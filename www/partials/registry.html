<div id="wrapper">
  <!-- Sidebar -->
  <div id="sidebar-wrapper">
      <ul class="sidebar-nav">
          <li class="sidebar-brand">
              <a href="/registry">
                  <img class="logo" src="img/icon.svg">
              </a>
          </li>
          <li>
              <a href="/registry"><img src="img/stacks.svg"></a>
          </li>
          <li>
              <a ng-click="signin('/mystacks')" style="cursor:pointer;"><img src="img/my_stacks.svg"></a>
          </li>
          <li>
              <a href="/#"><img src="img/star.svg"</a>
          </li>
      </ul>
  </div>
  <div id="page-content-wrapper">
        <div id="section-title">
            <h2><a href="/">Stackfiles.io</a></h2>
            <p class="pull-right login" ng-show="user!='undefined'">{{user}}</p>
            <a class="pull-right login" ng-click="signin('/registry');" ng-hide="user!='undefined'">Login</a>
        </div>
        <div class="col-lg-12 gradient">
            <div class="elem-bar">
                <h2>Stacks</h2>
                <input type="text" class="search-bar" placeholder="" ng-model="data.search" ng-init="checkSearch()" ng-change="searchFile()">
                <a class="btn boxed-btn submit-btn pull-right" ng-click="signin('/create')"></i> Submit a Stackfile</a>
            </div>
        </div>
        <div id="loading" ng-hide="loaded == true">
            <svg class="spinner" width="65px" height="65px" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">
                <circle class="path" fill="none" stroke-width="4" stroke-linecap="round" cx="33" cy="33" r="25"></circle>
            </svg>
        </div>
        <modal title="Embed" visible="showModal">
            <p>You can embed a Stackfile in any text field that support Javascript, such as blog post. Click the clipboard icon next to the Embed Url to copy the embed code.</p>
            <form role="form">
                <div class="form-group">
                    <p>Embed Script</p>
                    <input type="text" class="" id="embed" placeholder="script"  ng-model="embedScript" />
                    <a ui-zeroclip zeroclip-model="embedScript"><img src="img/copy.svg"></a>
                </div>
            </form>
        </modal>
        <div class="container-fluid" ng-show="loaded == true">
            <div class="col-lg-11 content-list" ng-show="data.search.length">
                <table ng-show="results.length" class="table">
                    <tbody>
                        <tr ng-repeat="result in results" ng-class-odd="odd" ng-class-even="even" ng-hide="currentSection === 1">
                            <td class="main"><a class="stack-name" href="/registry/{{result._id}}">{{result._source.title}}</a><p class="stack-services">{{result._source.tags.length}} Services</p><p class="stack-user">by {{result._source.user}}</p></td>
                            <td style="vertical-align:middle"><a class="btn boxed-btn deploy-btn" ng-click="deploy(result._id)" target="_blank">Deploy to Tutum</a></td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
                <div ng-hide="results.length" style="text-align: center">No result</div>
            </div>
            <div class="col-lg-11 content-list" ng-hide="data.search.length">
                <table class="table">
                    <tbody>
                        <tr ng-repeat="file in files" ng-class-odd="odd" ng-class-even="even">
                            <td class="main"><a class="stack-name" href="/registry/{{file._id}}">{{file.title}}</a><p class="stack-services">{{file.tags.length}} Services</p><p class="stack-user">By {{file.user}}</p></td>
                            <td style="vertical-align:middle" data-toggle="tooltip" data-placement="top" title="Click here to deploy this stack on your Tutum account"><a class="btn boxed-btn deploy-btn" ng-click="deploy(file._id)" target="_blank">Deploy to Tutum</a></td>
                            <td style="vertical-align:middle"><a ng-click="toggleModal(); generateEmbed(file._id);"><img src="img/embed.svg" style="width:24px;"></a></td>
                            <td style="vertical-align:middle; padding-top:33px;">
                              <svg ng-click="toggleStatus(file)" ng-class="{'btn-off':!isSelected(file), 'btn-on':isSelected(file)}" class="star"  width="24px" height="24px" viewBox="0 0 48 48" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                                  <g id="Stackfiles.io" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
                                      <g id="-star" sketch:type="MSArtboardGroup" fill="#f1f1f1">
                                          <g id="star" sketch:type="MSLayerGroup" transform="translate(4.000000, 4.000000)">
                                              <path d="M40,14.48 L25.62,13.24 L20,0 L14.38,13.26 L0,14.48 L10.92,23.94 L7.64,38 L20,30.54 L32.36,38 L29.1,23.94 L40,14.48 L40,14.48 Z M20,26.8 L12.48,31.34 L14.48,22.78 L7.84,17.02 L16.6,16.26 L20,8.2 L23.42,16.28 L32.18,17.04 L25.54,22.8 L27.54,31.36 L20,26.8 L20,26.8 Z" id="Shape" sketch:type="MSShapeGroup"></path>
                                          </g>
                                      </g>
                                  </g>
                              </svg>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
